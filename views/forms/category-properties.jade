.property
	h3 #{ gettext("Definition") }
	.input-wrapper
		label #{ gettext("Description") }
		input(id='input-category-englishDescription' type='text' placeholder='#{ gettext("Beans on toast") }' ng-model='SharedData.currentItem.englishDescription')
	.input-wrapper(ng-hide='SharedData.locale.intake_locale=="en_GB"')
		label #{ gettext("Local Description") }
		input(id='input-food-localeDescription' type='text' ng-model='SharedData.currentItem.localData.localDescription[0]')
	.input-wrapper
		label #{ gettext("Intake24 code") }
		input(id='input-category-code' type='text' placeholder='#{ gettext("ALBU") }' ng-model='SharedData.currentItem.temp.code')
	.input-wrapper
		label #{ gettext("Hidden") }
		input(id='input-is-hidden' type='checkbox' ng-model='SharedData.currentItem.isHidden')

.property
	h3 #{ gettext("Attributes") }
	.input-wrapper.overridable
		button.override-button(ng-click='SharedData.currentItem.temp.overrideReadyMealOption = !SharedData.currentItem.temp.overrideReadyMealOption')
			span(ng-if='!(SharedData.currentItem.temp.overrideReadyMealOption)') Override
			span(ng-if='(SharedData.currentItem.temp.overrideReadyMealOption)') Use inherited
		input(ng-disabled='!SharedData.currentItem.temp.overrideReadyMealOption' id='input-ready-meal-option' type='checkbox' ng-model='SharedData.currentItem.temp.booleanReadyMealOption')
		label #{ gettext("Ready meal option") }
	.input-wrapper.overridable
		button.override-button(ng-click='SharedData.currentItem.temp.overrideSameAsBeforeOption = !SharedData.currentItem.temp.overrideSameAsBeforeOption')
			span(ng-if='!(SharedData.currentItem.temp.overrideSameAsBeforeOption)') Override
			span(ng-if='(SharedData.currentItem.temp.overrideSameAsBeforeOption)') Use inherited
		input(ng-disabled='!SharedData.currentItem.temp.overrideSameAsBeforeOption' id='input-same-as-before-option' type='checkbox' ng-model='SharedData.currentItem.temp.booleanSameAsBeforeOption')
		label #{ gettext("Same as before option") }
	.input-wrapper.overridable
		button.override-button(ng-click='SharedData.currentItem.temp.overrideReasonableAmount = !SharedData.currentItem.temp.overrideReasonableAmount')
			span(ng-if='!(SharedData.currentItem.temp.overrideReasonableAmount)') Override
			span(ng-if='(SharedData.currentItem.temp.overrideReasonableAmount)') Use inherited
		input(ng-disabled='!SharedData.currentItem.temp.overrideReasonableAmount' id='input-reasonable-amount' type='text' placeholder='#{ gettext("e.g. 600") }' style='min-width:60px; width:60px' ng-model='SharedData.currentItem.temp.reasonableAmount')
		label #{ gettext("Reasonable amount (g/ml)") }

.property
	h3 #{ gettext("Categories") }
	.categories-container
		ul(ng-model='SharedData.allCategories' ng-repeat='parentCategory in SharedData.allCategories | selectedCategoryFilter')
			li {{parentCategory.englishDescription}}

	.input-wrapper
		.btn.success(onClick='showDrawer("drawer-manage-categories")')
			span #{ gettext("Manage categories") }
		.clearfloat

.property
	h3 #{ gettext("Portion size estimation") }
	.input-wrapper(ng-model='SharedData.currentItem.localData.portionSize' ng-repeat='portionSize in SharedData.currentItem.localData.portionSize')
		.portion-size-method
			.input-wrapper
				label #{ gettext("Description") }
				input(placeholder='#{ gettext("Description") }' ng-model='portionSize.description')
			.input-wrapper
				label #{ gettext("Image") }
				input(placeholder='#{ gettext("e.g. path/filename.jpg") }' ng-model='portionSize.imageUrl')
			.input-wrapper
				label #{ gettext("Use for recipes") }
				input(type='checkbox' ng-model='portionSize.useForRecipes')
			.input-wrapper
				label #{ gettext("Estimation method") }
				select(class='estimation-method-dropdown' id='estimation-method-dropdown' data-ng-model="portionSize.method")
					option(ng-repeat="estimationMethod in SharedData.estimationMethods" value="{{estimationMethod.slug}}") {{estimationMethod.name}}

			.as-served(ng-if='portionSize.method == "as-served"')
				include portion-size-methods/as-served
			.guide-image(ng-if='portionSize.method == "guide-image"')
				include portion-size-methods/guide-image
			.drink-scale(ng-if='portionSize.method == "drink-scale"')
				include portion-size-methods/drink-scale
			.standard-portion(ng-if='portionSize.method == "standard-portion"')
				include portion-size-methods/standard-portion
			.cereal(ng-if='portionSize.method == "cereal"')
				include portion-size-methods/cereal
			.milk-on-cereal(ng-if='portionSize.method == "milk-on-cereal"')
				include portion-size-methods/milk-on-cereal
			.milk-on-cereal(ng-if='portionSize.method == "milk-in-a-hot-drink"')
				include portion-size-methods/milk-in-a-hot-drink
			.milk-on-cereal(ng-if='portionSize.method == "pizza"')
				include portion-size-methods/pizza

			.btn.danger(ng-click='deletePortionSize(SharedData.currentItem.localData.portionSize, $index)')
				span #{ gettext("Delete this method") }
			.clearfloat
				

	.input-wrapper
		.btn.success(ng-click='addPortionSize(SharedData.currentItem.localData.portionSize)')
			span #{ gettext("Add a portion size method") }
		.clearfloat