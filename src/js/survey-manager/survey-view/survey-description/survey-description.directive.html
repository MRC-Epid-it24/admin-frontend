<div class="form-group" ng-if="textAreaModeIsAllowed">
    <ul class="list-inline">
        <li>
            <ul class="nav nav-pills">
                <li ng-class="{active: textAreaMode}">
                    <a href="" ng-click="setTextareaMode(true)">Raw layout</a>
                </li>
                <li ng-class="{active: !textAreaMode}">
                    <a href="" ng-click="setTextareaMode(false)">Text editor</a>
                </li>
            </ul>

        </li>
        <li class="vertical-align-top">
            <button type="button" class="btn btn-default" ng-hide="previewMode" ng-click="showPreview()">
                Preview
            </button>
            <button type="button" class="btn btn-default" ng-show="previewMode" ng-click="hidePreview()">
                Back to editor
            </button>
        </li>
    </ul>
</div>
<div class="form-group" ng-hide="previewMode || textAreaMode">
    <text-angular ng-model="html"></text-angular>
</div>
<div class="form-group" ng-hide="previewMode || !textAreaMode">
    <textarea class="form-control no-resize-horizontal" rows="15" ng-model="html"></textarea>
</div>
<div class="form-group" ng-show="previewMode" ng-bind-html="preview"></div>
<div class="form-group text-right">
    <button type="button" class="btn btn-default" ng-click="cancel()" ng-disabled="loading">
        Cancel
    </button>
    <button type="button" class="btn btn-success" ng-click="save()" ng-disabled="loading">
        <i class="fa fa-spinner fa-spin" ng-class="{'hide': !loading}"></i>
        Save
    </button>
</div>