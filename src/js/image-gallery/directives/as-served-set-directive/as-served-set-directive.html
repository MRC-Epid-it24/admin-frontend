<div class="pull-right">
    <button class="btn btn-default"
            ng-click="toggle()"
            ng-disabled="loading || getNotValid()">
        <i class="fa" ng-class="{'fa-pencil': collapsed && !loading,
                                 'fa-check': !collapsed && !loading,
                                 'fa-spinner fa-spin': loading}"></i>
    </button>
    <button class="btn btn-default"
            ng-click="cancel()"
            ng-disabled="loading"
            ng-hide="collapsed">
        <i class="fa" ng-class="{'fa-angle-left': !loading,
                                 'fa-spinner fa-spin': loading}"></i>
    </button>
    <span uib-dropdown>
        <button class="btn btn-default" uib-dropdown-toggle ng-disabled="loading">
            <i class="fa" ng-class="{'fa-ellipsis-v': !loading,
                                 'fa-spinner fa-spin': loading}"></i>
        </button>
        <ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>
            <li>
                <a href="" ng-click="addItem()">
                    Add image
                </a>
            </li>
            <li class="divider" ng-hide="collapsed"></li>
            <li>
                <a href="" ng-click="removeSet()">
                    Remove set
                </a>
            </li>
        </ul>
    </span>
</div>

<div class="as-served-set-info">
    <h1 class="as-served-set-title">
        <editable ng-model="newName" placeholder="Type something" ng-hide="collapsed" required></editable>
        <span ng-show="collapsed">{{name}}</span>
    </h1>
    <p class="as-served-set-description">
        <editable ng-model="newDescription" placeholder="Type something" ng-hide="collapsed" required></editable>
        <span ng-show="collapsed">{{description}}</span>
    </p>
</div>
<div class="as-served-set-images" ng-hide="collapsed">
    <div class="intk-gallery-item" ng-repeat="item in items track by item.sourceId">
        <div class="intk-gallery-item-img">
            <img-loader src="item.imageUrl"></img-loader>
            <div class="intk-gallery-item-blank">
                <div class="pull-right" uib-dropdown>
                    <button class="btn btn-default btn-tools" uib-dropdown-toggle>
                        <i class="fa fa-ellipsis-v"></i>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>
                        <li>
                            <a href="" ng-click="changeImage(item)">
                                Change image
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="" ng-click="removeItem(item)">
                                Remove image
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="intk-gallery-item-tools">
            <div class="input-group">
                <input class="form-control" type="text" placeholder="Weight in grams"
                       ng-model="item.weight">
                <div class="input-group-addon">
                    g
                </div>
            </div>
        </div>
    </div>
    <a href="" class="intk-gallery-add-item" ng-click="addItem()">
        Add image
    </a>
</div>