<div class="intake24-database-tool">
  <h3>Copy category portion size data</h3>

  <div class="col-sm-12 col-lg-8">
    <div class="bg-info p-1">
      <p>This will copy category portion size data from one locale to another. This function should not normally be used other than to fix issue with
        cloned/derived locales.</p>
    </div>

    <form class="mt-1">
      <div class="form-group">
        <label class="control-label">Source locale</label>
        <select ng-model="sourceLocale" class="form-control">
          <option ng-value="locale.id" ng-repeat="locale in locales | orderBy: 'englishName'">{{locale.englishName}}</option>
        </select>
      </div>

      <div class="form-group">
        <label class="control-label">Target locale</label>
        <select ng-model="targetLocale" class="form-control">
          <option ng-value="locale.id" ng-repeat="locale in locales | orderBy: 'englishName' ">{{locale.englishName}}</option>
        </select>
      </div>

      <div class="form-group bg-warning p-1" ng-if="errors.length > 0">
        <h4 class="mb-1">The following problems were encountered:</h4>
        <p class="mb-1" ng-repeat="errorMessage in errors track by $index">{{ errorMessage }}</p>
      </div>

      <div class="form-group">
        <button class="btn btn-default" ng-disabled="!(sourceLocale && targetLocale)" ng-click="cloneLocal()">
          Copy category portion size methods
        </button>
      </div>
    </form>
  </div>

</div>

